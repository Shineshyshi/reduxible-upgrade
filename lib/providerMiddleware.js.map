{"version":3,"sources":["../src/providerMiddleware.js"],"names":["providerMiddleware","willProvide","dispatch","getState","providers","reduce","prevProviders","Provider","provider","name","$get","action","context","thunk","next"],"mappings":";;;qBAAwBA,kB;AAAT,SAASA,kBAAT,GAA4C;AAAA,oCAAbC,WAAa;AAAbA,eAAa;AAAA;;AACzD,SAAO,gBAA4B;AAAA,QAAzBC,QAAyB,QAAzBA,QAAyB;AAAA,QAAfC,QAAe,QAAfA,QAAe;;AACjC,WAAO;AAAA,aAAQ,kBAAU;AACvB,YAAMC,YAAYH,YAAYI,MAAZ,CAAmB,UAACC,aAAD,EAAgBC,QAAhB,EAA6B;AAChE,cAAMC,WAAW,IAAID,QAAJ,EAAjB;AACAD,wBAAcE,SAASC,IAAvB,IAA+BD,SAASE,IAAT,CAAcC,OAAOC,OAAP,IAAkB,EAAhC,CAA/B;AACA,iBAAON,aAAP;AACD,SAJiB,EAIf,EAJe,CAAlB;;AAMA,YAAIK,OAAOE,KAAX,EAAkB;AAChB,iBAAOF,OAAOE,KAAP,CAAaX,QAAb,EAAuBC,QAAvB,EAAiCC,SAAjC,CAAP;AACD;;AAEDO,eAAOP,SAAP,GAAmBA,SAAnB;AACA,eAAOU,KAAKH,MAAL,CAAP;AACD,OAbM;AAAA,KAAP;AAcD,GAfD;AAgBD","file":"providerMiddleware.js","sourcesContent":["export default function providerMiddleware(...willProvide) {\n  return ({ dispatch, getState }) => {\n    return next => action => {\n      const providers = willProvide.reduce((prevProviders, Provider) => {\n        const provider = new Provider();\n        prevProviders[provider.name] = provider.$get(action.context || {});\n        return prevProviders;\n      }, {});\n\n      if (action.thunk) {\n        return action.thunk(dispatch, getState, providers);\n      }\n\n      action.providers = providers;\n      return next(action);\n    };\n  };\n}\n"]}