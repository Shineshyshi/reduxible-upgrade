{"version":3,"sources":["../src/utils.js"],"names":["combineRouteReducers","createAction","createReducer","reducers","routing","routeReducer","args","namespace","actions","action","type","payload","initialState","REDUCERS","reduce","reducer","types","length","prevReducers","push","state","prevState"],"mappings":";;;;;;;;;;;;QAGgBA,oB,GAAAA,oB;QASAC,Y,GAAAA,Y;QA2CAC,a,GAAAA,a;;AAvDhB;;AACA;;;;AAEO,SAASF,oBAAT,CAA8BG,QAA9B,EAAwC;AAC7C,SAAO,0DAAqBA,QAArB,IAA+BC,SAASC,+BAAxC,IAAP;AACD;;AAED;;;;;AAKO,SAASJ,YAAT,GAA+B;AAAA,oCAANK,IAAM;AAANA,QAAM;AAAA;;AACpC,MAAMC,YAAYD,KAAK,CAAL,KAAcA,KAAK,CAAL,CAAd,UAA4B,EAA9C;AACA,MAAME,UAAUF,KAAK,CAAL,KAAWA,KAAK,CAAL,CAA3B;AACA,MAAMG,SAAS,SAATA,MAAS;AAAA,WACb,YAAa;AACX,UAAIA,SAAS,EAAb;;AAEA,UAAID,QAAQE,IAAR,CAAJ,EAAmB;AACjB,yCAAeF,QAAQE,IAAR,CAAf;AACE,eAAK,UAAL;AACE;AACED,uBAASD,QAAQE,IAAR,2BAAT;AACA;AACD;AACH,eAAK,QAAL;AACE;AACED,uBAASD,QAAQE,IAAR,CAAT;AACA;AACD;AACH;AACED,qBAAS,EAAEE,SAASH,QAAQE,IAAR,CAAX,EAAT;AAZJ;AAcD;;AAED,UAAI,OAAOD,MAAP,KAAkB,UAAtB,EAAkC;AAChC,eAAOA,MAAP;AACD;;AAED,2CACKA,MADL;AAEEC,cAAMH,YAAYG;AAFpB;AAID,KA7BY;AAAA,GAAf;AA8BAD,SAAOC,IAAP,GAAc;AAAA,WAAQH,YAAYG,IAApB;AAAA,GAAd;AACA,SAAOD,MAAP;AACD;;AAED;;;;;;AAMO,SAASP,aAAT,GAAyD;AAAA,MAAlCU,YAAkC,uEAAnB,EAAmB;AAAA,MAAfT,QAAe,uEAAJ,EAAI;;AAC9D,MAAMU,WAAWV,SAASW,MAAT,CAAgB,UAACX,QAAD,EAAWY,OAAX,EAAuB;AACtD,QAAI,CAACA,QAAQC,KAAT,IAAkB,CAACD,QAAQC,KAAR,CAAcC,MAArC,EAA6C;AAC3C,aAAOd,QAAP;AACD;AACD,WAAOY,QAAQC,KAAR,CAAcF,MAAd,CAAqB,UAACI,YAAD,EAAeR,IAAf,EAAwB;AAClDQ,mBAAaR,IAAb,IAAqBQ,aAAaR,IAAb,KAAsB,EAA3C;AACAQ,mBAAaR,IAAb,EAAmBS,IAAnB,CAAwBJ,QAAQD,MAAhC;AACA,aAAOI,YAAP;AACD,KAJM,EAIJf,QAJI,CAAP;AAKD,GATgB,EASd,EATc,CAAjB;;AAWA,SAAO,YAAkC;AAAA,QAAjCiB,KAAiC,uEAAzBR,YAAyB;AAAA,QAAXH,MAAW;;AACvC,QAAI,CAACI,SAASJ,OAAOC,IAAhB,CAAL,EAA4B;AAC1B,aAAOU,KAAP;AACD;AACD,WAAOP,SAASJ,OAAOC,IAAhB,EAAsBI,MAAtB,CACL,UAACO,SAAD,EAAYP,MAAZ;AAAA,2CAA6BA,OAAOL,MAAP,EAAeY,SAAf,CAA7B;AAAA,KADK,EACsDD,KADtD,CAAP;AAGD,GAPD;AAQD","file":"utils.js","sourcesContent":["import { combineReducers } from 'redux';\nimport { routeReducer }  from 'redux-simple-router';\n\nexport function combineRouteReducers(reducers) {\n  return combineReducers({ ...reducers, routing: routeReducer });\n}\n\n/**\n * @method\n * @param {...*} args - (actions) or (namespace, actions)\n * @returns {Function} actionCreatorSelector - actionCreatorSelector\n */\nexport function createAction(...args) {\n  const namespace = args[1] && `${args[0]}/` || '';\n  const actions = args[1] || args[0];\n  const action = type =>\n    (...args) => {\n      let action = {};\n\n      if (actions[type]) {\n        switch (typeof actions[type]) {\n          case 'function' :\n            {\n              action = actions[type](...args);\n              break;\n            }\n          case 'object' :\n            {\n              action = actions[type];\n              break;\n            }\n          default :\n            action = { payload: actions[type] };\n        }\n      }\n\n      if (typeof action === 'function') {\n        return action;\n      }\n\n      return {\n        ...action,\n        type: namespace + type\n      };\n    };\n  action.type = type => namespace + type;\n  return action;\n}\n\n/**\n * @method\n * @param {Object} initialState - initial state for reducer\n * @param {Object} reducers - list of reducers\n * @returns {Function} reducer - reducer\n */\nexport function createReducer(initialState = {}, reducers = []) {\n  const REDUCERS = reducers.reduce((reducers, reducer) => {\n    if (!reducer.types || !reducer.types.length) {\n      return reducers;\n    }\n    return reducer.types.reduce((prevReducers, type) => {\n      prevReducers[type] = prevReducers[type] || [];\n      prevReducers[type].push(reducer.reduce);\n      return prevReducers;\n    }, reducers);\n  }, {});\n\n  return (state = initialState, action) => {\n    if (!REDUCERS[action.type]) {\n      return state;\n    }\n    return REDUCERS[action.type].reduce(\n      (prevState, reduce) => ({ ...reduce(action, prevState) }), state\n    );\n  };\n}\n"]}