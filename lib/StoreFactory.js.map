{"version":3,"sources":["../src/StoreFactory.js"],"names":["StoreFactory","options","middlewares","reducers","reloader","devTools","useDevTools","validate","Error","createStore","initialState","finalCreateStore","appliedMiddleware","applyMiddleware","compose","composers","store"],"mappings":";;;;;;;;AAAA;;;;IAEqBA,Y;AACnB,wBAAYC,OAAZ,EAAqB;AAAA;;AACnB,SAAKC,WAAL,GAAmBD,QAAQC,WAAR,IAAuB,EAA1C;AACA,SAAKC,QAAL,GAAgBF,QAAQE,QAAxB;AACA,SAAKC,QAAL,GAAgBH,QAAQG,QAAxB;AACA,SAAKC,QAAL,GAAgBJ,QAAQI,QAAxB;AACA,SAAKC,WAAL,GAAmBL,QAAQK,WAA3B;AACA,SAAKC,QAAL;AACD;;yBAEDA,Q,uBAAW;AACT,QAAI,CAAC,KAAKJ,QAAV,EAAoB;AAClB,YAAM,IAAIK,KAAJ,CAAU,0DAAV,CAAN;AACD;AACF,G;;yBAEDC,W,0BAAiD;AAAA,QAArCC,YAAqC,uEAAtB,EAAsB;AAAA,QAAlBR,WAAkB,uEAAJ,EAAI;;AAC/C,QAAIS,yBAAJ;AACA,QAAIC,oBAAoBC,wCAAmBX,WAAnB,QAAmC,KAAKA,WAAxC,EAAxB;;AAEA,QAAI,KAAKI,WAAL,IAAoB,KAAKD,QAA7B,EAAuC;AACrCM,yBAAmBG,iCACjBF,iBADiB,SAEd,KAAKP,QAAL,CAAcU,SAAd,EAFc,GAGjBN,kBAHiB,CAAnB;AAID,KALD,MAKO;AACLE,yBAAmBC,kBAAkBH,kBAAlB,CAAnB;AACD;;AAED,QAAMO,QAAQL,iBAAiB,KAAKR,QAAtB,EAAgCO,YAAhC,CAAd;;AAEA,QAAI,KAAKN,QAAT,EAAmB;AACjB,WAAKA,QAAL,CAAcY,KAAd;AACD;;AAED,WAAOA,KAAP;AACD,G;;;;;qBApCkBhB,Y","file":"StoreFactory.js","sourcesContent":["import { applyMiddleware, compose, createStore } from 'redux';\n\nexport default class StoreFactory {\n  constructor(options) {\n    this.middlewares = options.middlewares || [];\n    this.reducers = options.reducers;\n    this.reloader = options.reloader;\n    this.devTools = options.devTools;\n    this.useDevTools = options.useDevTools;\n    this.validate();\n  }\n\n  validate() {\n    if (!this.reducers) {\n      throw new Error('A reducers is empty. Please check your config arguments.');\n    }\n  }\n\n  createStore(initialState = {}, middlewares = []) {\n    let finalCreateStore;\n    let appliedMiddleware = applyMiddleware(...middlewares, ...this.middlewares);\n\n    if (this.useDevTools && this.devTools) {\n      finalCreateStore = compose(\n        appliedMiddleware,\n        ...this.devTools.composers()\n      )(createStore);\n    } else {\n      finalCreateStore = appliedMiddleware(createStore);\n    }\n\n    const store = finalCreateStore(this.reducers, initialState);\n\n    if (this.reloader) {\n      this.reloader(store);\n    }\n\n    return store;\n  }\n}\n"]}