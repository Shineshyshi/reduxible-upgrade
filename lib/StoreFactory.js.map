{"version":3,"sources":["../src/StoreFactory.js"],"names":["StoreFactory","options","middlewares","reducers","reloader","devTools","useDevTools","validate","Error","createStore","initialState","finalCreateStore","appliedMiddleware","applyMiddleware","store"],"mappings":";;;;;;;;AAAA;;;;IAEqBA,Y;AACnB,wBAAYC,OAAZ,EAAqB;AAAA;;AACnB,SAAKC,WAAL,GAAmBD,QAAQC,WAAR,IAAuB,EAA1C;AACA,SAAKC,QAAL,GAAgBF,QAAQE,QAAxB;AACA,SAAKC,QAAL,GAAgBH,QAAQG,QAAxB;AACA,SAAKC,QAAL,GAAgBJ,QAAQI,QAAxB;AACA,SAAKC,WAAL,GAAmBL,QAAQK,WAA3B;AACA,SAAKC,QAAL;AACD;;yBAEDA,Q,uBAAW;AACT,QAAI,CAAC,KAAKJ,QAAV,EAAoB;AAClB,YAAM,IAAIK,KAAJ,CACJ,0DADI,CAAN;AAGD;AACF,G;;yBAEDC,W,0BAAiD;AAAA,QAArCC,YAAqC,uEAAtB,EAAsB;AAAA,QAAlBR,WAAkB,uEAAJ,EAAI;;AAC/C,QAAIS,yBAAJ;AACA,QAAIC,oBAAoBC,wCACnBX,WADmB,QAEnB,KAAKA,WAFc,EAAxB;;AAKA,QAAI,KAAKI,WAAL,IAAoB,KAAKD,QAA7B,EAAuC;AACrCM,yBAAmB,oBAAQC,iBAAR,EAA2B,KAAKP,QAAhC,EAA0CI,kBAA1C,CAAnB;AACD,KAFD,MAEO;AACLE,yBAAmBC,kBAAkBH,kBAAlB,CAAnB;AACD;;AAED,QAAMK,QAAQH,iBAAiB,KAAKR,QAAtB,EAAgCO,YAAhC,CAAd;;AAEA,QAAI,KAAKN,QAAT,EAAmB;AACjB,WAAKA,QAAL,CAAcU,KAAd;AACD;;AAED,WAAOA,KAAP;AACD,G;;;;;qBAtCkBd,Y","file":"StoreFactory.js","sourcesContent":["import { applyMiddleware, compose, createStore } from \"redux\";\n\nexport default class StoreFactory {\n  constructor(options) {\n    this.middlewares = options.middlewares || [];\n    this.reducers = options.reducers;\n    this.reloader = options.reloader;\n    this.devTools = options.devTools;\n    this.useDevTools = options.useDevTools;\n    this.validate();\n  }\n\n  validate() {\n    if (!this.reducers) {\n      throw new Error(\n        \"A reducers is empty. Please check your config arguments.\"\n      );\n    }\n  }\n\n  createStore(initialState = {}, middlewares = []) {\n    let finalCreateStore;\n    let appliedMiddleware = applyMiddleware(\n      ...middlewares,\n      ...this.middlewares\n    );\n\n    if (this.useDevTools && this.devTools) {\n      finalCreateStore = compose(appliedMiddleware, this.devTools)(createStore);\n    } else {\n      finalCreateStore = appliedMiddleware(createStore);\n    }\n\n    const store = finalCreateStore(this.reducers, initialState);\n\n    if (this.reloader) {\n      this.reloader(store);\n    }\n\n    return store;\n  }\n}\n"]}